{"version":3,"sources":["webpack:///webpack/bootstrap e4cec42b8aef903b7dac","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/Index.js","webpack:///./src/host/less/Index.less","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/js/ClientList.js","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/js/Core.js","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.Prepare.js","webpack:///./src/host/less/Prepare.less","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.Main.js","webpack:///./src/host/less/Main.less","webpack:///./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.End.js","webpack:///./src/host/less/End.less"],"names":["Style","require","window","GAME","ClientList","Core","Render","Prepare","Main","End","opts_in","that","_max","_isLocker","clients","players","onUpdateClient","onUpdateOb","reset","clientData","i","id","addClient","updateClientList","removeClient","updateObList","obData","getClientList","lock","unlock","name","number","n","_init","max","module","exports","start","_color","_players","_playersId","_playerMap","_playerPos","send","handler","receive","msg","action","clientId","dat","pos","Math","min","onUpdated","clientUpdate","current","onSetuped","clientSetup","setupData","gameData","player","playerId","playerMap","playerPos","color","setup","playerData","para","count","length","playerObj","push","random","end","renew","pause","continue","win","p","test","HTML","playerList","item","colorSelector","colorList","colorItem","startBtn","CSS","occupied","hidden","container","html","$","maxPlayer","colorOption","colorId","cache_client","show","_renderClient","fadeIn","hide","fadeOut","updateGame","getSetupPara","occupiedNumber","addClass","removeClass","_selectColor","children","text","style","backgroundColor","_setupHtml","appendTo","click","ele","e","data","toggleClass","board","width","height","cache_pos","_render","_clear","_addPlayer","empty","left","top","idx","playerNode","addEventListener","$$","info","check","list","renewBtn","html_wrap","html_content","html_renew","s"],"mappings":"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","file":"host.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4cec42b8aef903b7dac","/* TODO:\r\n    Fetch all modules and put them into a global object.\r\n    Then we can use them in Host.html.\r\n*/\r\n\r\nvar Style = require('./less/Index.less');\r\n\r\nwindow.GAME = {\r\n  ClientList:require('./js/ClientList.js'),\r\n  Core:require('./js/Core.js'),\r\n  Render:{\r\n    Prepare : require('./js/Render.Prepare.js'),\r\n    Main : require('./js/Render.Main.js'),\r\n    End : require('./js/Render.End.js')\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/Index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/Index.less\n// module id = 1\n// module chunks = 1","/* TODO:\r\n    ClientList manager all clients join the game.\r\n    - It will tell Prepare-Module when client list changes.\r\n    - It will initialize the player data when game starts.\r\n*/\r\n﻿\r\nvar ClientList = function (opts_in) {\r\n    \"use strick\";\r\n    // Property -----------------------------------------------\r\n    var that = this,\r\n        _max = 5,\r\n        _isLocker = false;\r\n\r\n    var clients = {},       // { id:<number>, name:<string>, number:<number>}\r\n        players = [];       // queue of players, starts from 0\r\n\r\n    // callback ------------------------------------------\r\n    this.onUpdateClient = null;               /* TODO: callback: send client data if update */\r\n    this.onUpdateOb = null;                   /* TODO: deprecated */\r\n\r\n    // API -----------------------------------------------\r\n    this.reset = function (clientData) {\r\n        /* TODO: reset all client data */\r\n        clients = {};\r\n        players = [];\r\n        for (var i = 0; i < _max; i++) players[i] = null;\r\n        for (var id in clientData) {\r\n            addClient(id, clientData[id]);\r\n        }\r\n        if (this.onUpdateClient) this.onUpdateClient(clients);\r\n    };\r\n\r\n    this.updateClientList = function (clientData) {\r\n        /* TODO: update the client data, keep them as same as the input */\r\n        for (var id in clients) {\r\n            if (id in clientData) continue;\r\n            removeClient(id);\r\n        }\r\n        for (var id in clientData) {\r\n            if (id in clients) continue;\r\n            addClient(id, clientData[id]);\r\n        }\r\n        if (this.onUpdateClient) this.onUpdateClient(clients);\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n        /* TODO: deprecated */\r\n    };\r\n\r\n    this.getClientList = function () {\r\n        /* TODO: initialize the client data. */\r\n        return players;\r\n    };\r\n\r\n    // Lock -----------------------------------------------\r\n    this.lock = function () {\r\n        /* TODO: make client list unchangeable. */\r\n        _isLocker = true;\r\n    };\r\n\r\n    this.unlock = function () {\r\n        /* TODO: make client list changeable. */\r\n        _isLocker = false;\r\n    };\r\n\r\n    // Client Add / Remove -----------------------------------------------\r\n    var addClient = function (id, name) {\r\n        clients[id] = {\r\n            id: id,\r\n            name: name,\r\n            number: -1\r\n        };\r\n\r\n        if (_isLocker) return;\r\n        for (var i = 0; i < _max; i++) {\r\n            if (players[i] == null) {\r\n                clients[id].number = i;\r\n                players[i] = {\r\n                    name: name,\r\n                    id:id\r\n                };\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    var removeClient = function (id) {\r\n        var n = clients[id].number;\r\n        delete clients[id];\r\n        if (n == -1) return;\r\n        if (_isLocker) return;\r\n        players[n] = null;\r\n    };\r\n\r\n    // Setup -----------------------------------------------\r\n    var _init = function (opts_in) {\r\n        _max = opts_in.max;\r\n        for (var i = 0; i < _max; i++) players[i] = null;\r\n    }(opts_in);\r\n};\r\n\r\nmodule.exports = ClientList;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/js/ClientList.js","/* TODO:\r\n    This is the primary part of this game.\r\n    - It setups the game with initial options and create setup data.\r\n    - It receives and run user's operation.\r\n    - It keeps sending game data to renderer, server and clients.\r\n    - It monitors game process and decides the next status of the game.\r\n*/﻿\r\n\r\nvar Core = function () {\r\n    \"use strick\";\r\n    // property -----------------------------------------------\r\n    var that = this,\r\n        start = false,\r\n        _color = null,\r\n        _players = null,\r\n        _playersId = null,\r\n        _playerMap = null,\r\n        _playerPos = [];\r\n\r\n    // message -----------------------------------------------\r\n    this.send = null;         /* TODO: this.send(code, content): This function should be set by Host-Manager, it is used to send message out */\r\n    this.handler = {};        /* TODO: this is a package of hander for Render.Main */\r\n\r\n    this.receive = function (msg) {\r\n        /* TODO:\r\n            receive unordinary message.\r\n            you can use this port to handle customized message format\r\n        */\r\n    };\r\n\r\n    this.action = function (clientId, dat) {\r\n        /* TODO:\r\n            will be fired when a client takes a move.\r\n            analysis the action data and handle this change.\r\n        */\r\n\r\n        if (!start) return;\r\n        // otherwise move the player's marker\r\n        var pos = _playerPos[_playerMap[clientId]];\r\n        pos[0]= Math.max(0, Math.min(100,pos[0]+dat[0]));\r\n        pos[1]= Math.max(0, Math.min(100,pos[1]+dat[1]));\r\n\r\n        this.onUpdated({ pos: _playerPos });\r\n        this.clientUpdate(_playersId, {\r\n            current: _playerMap[clientId]\r\n        });\r\n    };\r\n\r\n    // callback ------------------------------------------\r\n    this.onUpdated = null;      // (gameData): becalled when game updates\r\n    this.onSetuped = null;      // (setupData): be called when game setups\r\n    this.clientSetup = null;    // (target, clientData) setup client, be called when game setups\r\n    this.clientUpdate = null;   // (target, clientData) update client side, be called when anything related to that client updates\r\n\r\n    // update ---------------------------------------------\r\n    this.reset = function (setupData, gameData) {\r\n        /* TODO:\r\n            reset game with given data.\r\n            the game will be recovered if gameData provided\r\n        */\r\n\r\n        if (setupData != null) {\r\n            _players = setupData.player;\r\n            _playersId = setupData.playerId;\r\n            _playerMap = setupData.playerMap;\r\n            _playerPos = setupData.playerPos;\r\n            _color = setupData.color;\r\n        }\r\n        if (gameData != null) {\r\n            _playerPos = gameData.pos;\r\n            this.onUpdated({ pos: _playerPos });\r\n        }\r\n\r\n    };\r\n\r\n    this.setup = function (playerData, para) {\r\n        /* TODO:\r\n            setup the game with player data and initial options.\r\n            then send the setup data out\r\n        */\r\n\r\n        _players = [];\r\n        _playersId = [];\r\n        _playerMap = {};\r\n        _playerPos = [];\r\n        _color = para.color;\r\n\r\n        for (var i = 0, count = playerData.length; i < count; i++) {\r\n            if (playerData[i] == null) continue;\r\n\r\n            var playerObj={\r\n              id: playerData[i].id,\r\n              name: playerData[i].name\r\n            }\r\n            _players.push(playerObj);\r\n            _playersId.push(playerObj.id);\r\n            _playerMap[playerObj.id] = i;\r\n            _playerPos.push([~~(Math.random()*100), ~~(Math.random()*100)]);\r\n        }\r\n\r\n        this.onSetuped({\r\n            playerMap: _playerMap,\r\n            player: _players,\r\n            playerId: _playersId,\r\n            playerPos: _playerPos,\r\n            color: _color\r\n        });\r\n        for (var i = 0; i < _players.length; i++) {\r\n            this.clientSetup([_players[i].id], {\r\n                id: i,\r\n                current:-1\r\n            });\r\n        }\r\n    };\r\n\r\n    // game ------------------------------------------------\r\n    this.start = function () {\r\n        /* TODO: game start */\r\n        start = true;\r\n    };\r\n\r\n    this.end = function () {\r\n        /* TODO: game end */\r\n        start = false;\r\n    };\r\n\r\n    this.renew = function () {\r\n        /* TODO: game renew */\r\n        start = false;\r\n        _color = null;\r\n        _players = null;\r\n        _playerMap = null;\r\n        _playerPos = null;\r\n    };\r\n    this.pause = function () {\r\n        /* TODO: game parse */\r\n    };\r\n    this.continue = function () {\r\n        /* TODO: game continue */\r\n    };\r\n\r\n    // private ---------------------------------------------\r\n    var win = function (clientId) {\r\n        // Host select a player to win\r\n        var p = [];\r\n        for (var i = 0; i < _players.length; i++) {\r\n            p[i]  = { id: _players[i].id, name: _players[i].name, win: false };\r\n        }\r\n        p[_playerMap[clientId]].win = true;\r\n        that.onUpdated({\r\n          end: p,\r\n          pos: _playerPos\r\n        });\r\n        for (var i = 0; i < _players.length; i++) {\r\n            that.clientUpdate([_players[i].id], {\r\n                end: p[i].win\r\n            });\r\n        }\r\n        window.test.end();\r\n         /* TODO: use the line below in real env\r\n              $.get('/Host/End')\r\n         */\r\n        start=false;\r\n    };\r\n\r\n    // setup -----------------------------------------------\r\n    var _init = function () {\r\n        that.handler.win = win;\r\n    }();\r\n};\r\n\r\nmodule.exports = Core;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/js/Core.js","/* TODO:\r\n    Prepare-Screen is the screen before game starting.\r\n    You can set game options while waiting for other players.\r\n*/\r\n\r\nvar Style = require('../less/Prepare.less');\r\n\r\nvar HTML = {\r\n    playerList: '<div class=\"_playerList\"></div>',\r\n    item: '<div class=\"_item\"></div>',\r\n    colorSelector: '<div class=\"colorSelector\"><span></span></div>',\r\n    colorList: '<div class=\"_colorList\"></div>',\r\n    colorItem: '<div class=\"_item\"><span></span></div>',\r\n    startBtn: '<div class=\"_start\">START</div>'\r\n};\r\n\r\nvar CSS = {\r\n    occupied: '_occupied',\r\n    hidden: '_hidden'\r\n};\r\n\r\nvar Prepare = function (container, opts_in) {\r\n    \"use strick\";\r\n    // Property -------------------------------------\r\n    var // html\r\n        html = {\r\n            container: $(container),\r\n            startBtn: null,\r\n            playerList: null,\r\n            player: [],\r\n            colorSelector: null,\r\n            colorList: null,\r\n            colorItem: {}\r\n        },\r\n\r\n        // data\r\n        maxPlayer = 0,\r\n        colorOption = null,\r\n        colorId = null,\r\n\r\n        // cache\r\n        cache_client = null;\r\n\r\n    // Callback -------------------------------------\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        /* TODO: show Prepare-Screen */\r\n        _renderClient(cache_client);\r\n        html['container'].fadeIn();\r\n    };\r\n\r\n    this.hide = function () {\r\n        /* TODO: hide Prepare-Screen */\r\n        html['container'].fadeOut();\r\n    };\r\n\r\n    // Update ---------------------------------------\r\n    this.updateClientList = function (clientData) {\r\n        /* TODO: update client list shown on the screen */\r\n        cache_client = clientData;\r\n        _renderClient(clientData);\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n        /* TODO: deprecated */\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        /* TODO: do nothing */\r\n    };\r\n\r\n    // api -------------------------------------------\r\n    this.getSetupPara = function () {\r\n        /* TODO: return game options */\r\n        return {\r\n            color: colorOption[colorId]\r\n        };\r\n    };\r\n\r\n    // Private ---------------------------------------\r\n    var _renderClient = function (clientData) {\r\n        if (clientData == null) return;\r\n        // player\r\n        var occupiedNumber = {};\r\n        for (var id in clientData) {\r\n            if (clientData[id].number == -1) continue;\r\n            occupiedNumber[clientData[id].number] = id;\r\n        }\r\n\r\n        for (var i = 0; i < maxPlayer; i++) {\r\n            if (i in occupiedNumber) {\r\n                html['player'][i].html(clientData[occupiedNumber[i]].name).addClass(CSS.occupied);\r\n            } else {\r\n                html['player'][i].html(\"\").removeClass(CSS.occupied);\r\n            }\r\n        }\r\n    };\r\n\r\n    var _selectColor = function (id) {\r\n        colorId = id;\r\n        html['colorSelector'].children('span').text(id);\r\n        html['colorSelector'][0].style.backgroundColor = colorOption[id];\r\n    };\r\n\r\n    // Setup -----------------------------------------\r\n    var _setupHtml = function () {\r\n        // player list\r\n        html['playerList'] = $(HTML.playerList).appendTo(html['container']);\r\n        for (var i = 0; i < maxPlayer; i++) {\r\n            html['player'][i] = $(HTML.item).appendTo(html['playerList']);\r\n        }\r\n\r\n        // start btn\r\n        html['startBtn'] = $(HTML.startBtn).appendTo(html['container']);\r\n        html['startBtn'].click(function () {\r\n          window.test.start();\r\n         /* TODO: use the line below in real env\r\n              $.get('/Host/Start');\r\n         */\r\n        });\r\n\r\n        // color selector\r\n        html['colorSelector'] = $(HTML.colorSelector).appendTo(html['container']);\r\n        html['colorList'] = $(HTML.colorList).appendTo(html['container']).addClass(CSS.hidden);\r\n        for (var i in colorOption) {\r\n            var ele = $(HTML.colorItem).appendTo(html['colorList']);\r\n            ele.children('span').text(i);\r\n            ele[0].style.backgroundColor = colorOption[i];\r\n            if (colorId == null) _selectColor(i);\r\n            ele.click({ id: i }, function (e) {\r\n                _selectColor(e.data.id);\r\n                html['colorList'].toggleClass(CSS.hidden);\r\n            });\r\n            html['colorItem'][i] = ele;\r\n        }\r\n        html['colorSelector'].click(function () {\r\n            html['colorList'].toggleClass(CSS.hidden);\r\n        });\r\n    };\r\n\r\n    var _init = function (opts_in) {\r\n        maxPlayer = opts_in.maxPlayer;\r\n        colorOption = opts_in.colorOption || {};\r\n        _setupHtml();\r\n    }(opts_in);\r\n};\r\n\r\nmodule.exports = Prepare;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.Prepare.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/Prepare.less\n// module id = 9\n// module chunks = 1","/* TODO:\r\n    Main-Screen is the main screen.\r\n    It renders the game.\r\n*/\r\n\r\n﻿var Style = require('../less/Main.less');\r\n\r\nvar HTML = {\r\n    player: '<div class=\"_player\"></div>',\r\n    board: '<div class=\"_board\"></div>'\r\n};\r\n\r\nvar Main = function (container) {\r\n    \"use strick\";\r\n    // property -----------------------------------------------\r\n    var that = this;\r\n    var width = 0,\r\n        height = 0;\r\n    var cache_pos = null;\r\n    var html = {\r\n        container: $(container),\r\n        board : null,\r\n        player:[]\r\n    };\r\n\r\n    // callback ------------------------------------------\r\n    this.handler = {};        /* TODO: this is a package of hander provided by Core. You can use these handler to control the game at Host */\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        /* TODO: show Main-Screen */\r\n        html['container'].fadeIn();\r\n        _render();\r\n    };\r\n\r\n    this.hide = function () {\r\n        /* TODO: hide Main-Screen */\r\n        html['container'].fadeOut();\r\n    };\r\n\r\n    // update ---------------------------------------------\r\n    this.reset = function (setupData) {\r\n        /* TODO: initialize the game */\r\n        if (setupData==null) return;\r\n        _clear();\r\n        var player = setupData.player;\r\n        var color = setupData.color;\r\n        cache_pos = setupData.playerPos;\r\n        for (var i=0;i<player.length;i++){\r\n            _addPlayer(i, player[i].id, player[i].name, color);\r\n        }\r\n        _render();\r\n    };\r\n\r\n    this.updateClientList = function (clientData) {\r\n        /* TODO: do nothing */\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n        /* TODO: deprecated */\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        /* TODO: update the game with game data */\r\n        if (gameData == null) return;\r\n        cache_pos = gameData.pos;\r\n        _render();\r\n    };\r\n\r\n    // game ------------------------------------------------\r\n    this.pause = function () {\r\n        /* TODO: game parse */\r\n    };\r\n    this.continue = function () {\r\n        /* TODO: game continue */\r\n     };\r\n\r\n    // private ---------------------------------------------\r\n    var _clear = function (){\r\n        html['board'].empty();\r\n        html['player']=[];\r\n    };\r\n    var _render = function (){\r\n        width = html['board'].width();\r\n        height = html['board'].height();\r\n        for (var i=0;i<cache_pos.length;i++){\r\n            var pos = cache_pos[i];\r\n            html['player'][i][0].style.left = pos[0]/100*width+'px';\r\n            html['player'][i][0].style.top = pos[1]/100*height+'px';\r\n        }\r\n    };\r\n\r\n    var _addPlayer = function (idx, clientId, name, color){\r\n        var playerNode = $(HTML.player).appendTo(html['board']).text(name);\r\n        playerNode[0].style.backgroundColor = color;\r\n        html['player'][idx] = playerNode;\r\n\r\n        playerNode[0].addEventListener('click', function (){\r\n            $$.info.check(name + \" will win this game?\", null, true, \"rgba(0,0,0,0.6)\",\r\n            function () {\r\n                that.handler.win(clientId);\r\n            });\r\n        },false)\r\n    };\r\n\r\n    // setup -----------------------------------------------\r\n    var _setupHtml = function () {\r\n        html['board'] = $(HTML.board).appendTo(html['container']);\r\n    };\r\n\r\n    var _init = function () {\r\n        _setupHtml();\r\n    }();\r\n};\r\n\r\nmodule.exports = Main;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.Main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/Main.less\n// module id = 12\n// module chunks = 1","/* TODO:\r\n    End-Screen is the screen after game end.\r\n    Show the game result in this screen.\r\n*/﻿\r\n\r\n﻿var Style = require('../less/End.less');\r\n\r\nvar HTML = {\r\n    list: '<div class=\"_list\"></div>',\r\n    player: '<div class=\"_player\"></div>',\r\n    renewBtn: '<div class=\"_renew\">RENEW</div>'\r\n};\r\n\r\nvar CSS = {\r\n    win: '_win'\r\n};\r\n\r\nvar End = function (container) {\r\n    \"use strick\";\r\n    // property -----------------------------------------------\r\n    var html_wrap = $('.end'),\r\n        html_content = null,\r\n        html_renew = null;\r\n\r\n    var html = {\r\n        container: $(container),\r\n        board : null,\r\n        renew : null\r\n    };\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        /* TODO: show End-Screen */\r\n        html['container'].fadeIn();\r\n    };\r\n\r\n    this.hide = function () {\r\n        /* TODO: hide End-Screen */\r\n        html['container'].fadeOut();\r\n    };\r\n\r\n    // Update ---------------------------------------\r\n    this.updateClientList = function (clientData) {\r\n        /* TODO: do nothing */\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n        /* TODO: deprecated */\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        /* TODO:\r\n            create End-Screen.\r\n            end data should be contained in input data.\r\n        */\r\n        if (gameData && gameData.end) {\r\n            var s = \"\";\r\n            html['list'].empty();\r\n            var end = gameData.end;\r\n            for (var i=0;i<end.length;i++){\r\n                _addPlayer(end[i].name, end[i].win);\r\n            }\r\n        }\r\n    };\r\n\r\n    // Private ---------------------------------------\r\n    var _addPlayer = function (name, win){\r\n        var playerNode = $(HTML.player).appendTo(html['list']).text(name);\r\n        if (win) playerNode.addClass(CSS.win);\r\n    };\r\n\r\n    // setup -----------------------------------------------\r\n    var _setupHtml = function () {\r\n        html['list'] = $(HTML.list).appendTo(html['container']);\r\n        html['renew'] = $(HTML.renewBtn).appendTo(html['container']);\r\n        html['renew'].click(function () {\r\n            window.test.renew();\r\n            //$.get('/Host/Renew');\r\n        });\r\n    };\r\n\r\n    var _init = function () {\r\n        _setupHtml();\r\n    }();\r\n};\r\n\r\nmodule.exports = End;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/R6/Web/GitHub/GameTemplate/src/host/js/Render.End.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/End.less\n// module id = 15\n// module chunks = 1"],"sourceRoot":""}