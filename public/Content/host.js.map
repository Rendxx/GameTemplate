{"version":3,"sources":["webpack:///webpack/bootstrap 5a5a76861de4bf811e0c?95f9","webpack:///./D:/Web/GitHub/GameTemplate/src/host/Index.js","webpack:///./D:/Web/GitHub/GameTemplate/src/host/js/ClientList.js","webpack:///./D:/Web/GitHub/GameTemplate/src/host/js/GameCore.js","webpack:///./D:/Web/GitHub/GameTemplate/src/host/js/Render.Prepare.js","webpack:///./src/host/less/Prepare.less","webpack:///./D:/Web/GitHub/GameTemplate/src/host/js/Render.Main.js","webpack:///./src/host/less/Main.less","webpack:///./D:/Web/GitHub/GameTemplate/src/host/js/Render.End.js","webpack:///./src/host/less/End.less"],"names":["ClientList","require","GameCore","Render","Prepare","Main","End","opts_in","that","_max","_isLocker","obCount","clients","obs","players","onUpdateClient","onUpdateOb","reset","clientData","obData","i","id","addClient","addOb","updateClientList","removeClient","updateObList","removeOb","getClientList","lock","unlock","name","number","n","_init","max","module","exports","start","msg","_map","_players","_playersId","_playerMap","send","receive","action","clientId","dat","Date","now","time","p","win","onUpdated","end","length","clientUpdate","rst","$","get","current","onSetuped","clientSetup","setupData","gameData","player","playerId","playerMap","map","setup","playerData","para","count","push","renew","pause","continue","Style","HTML","playerList","item","colorSelector","colorList","startBtn","CSS","occupied","hidden","container","html","colorItem","maxPlayer","colorOption","colorId","isShown","cache_client","cache_ob","cache_game","show","_renderClient","fadeIn","hide","fadeOut","updateGame","getSetupPara","color","occupiedNumber","addClass","removeClass","_selectColor","children","text","style","backgroundColor","_setupHtml","appendTo","click","ele","e","data","toggleClass","html_wrap","html_title","html_content","empty","append","html_renew","s"],"mappings":"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","file":"host.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5a5a76861de4bf811e0c","var ClientList = require('./js/ClientList.js');\r\nvar GameCore = require('./js/GameCore.js');\r\nvar Render = {\r\n  Prepare : require('./js/Render.Prepare.js'),\r\n  Main : require('./js/Render.Main.js'),\r\n  End : require('./js/Render.End.js')\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/Index.js","\r\nvar ClientList = function (opts_in) {\r\n    // Property -----------------------------------------------\r\n    var that = this,\r\n        _max = 5,\r\n        _isLocker = false,\r\n            obCount = 0;\r\n\r\n    var clients = {},       // { id:<number>, name:<string>, number:<number>}\r\n        obs = {},           // { id:<number>, name:<string>, number:<number>}\r\n        players = [];       // queue of players, starts from 0\r\n\r\n    // callback ------------------------------------------\r\n    this.onUpdateClient = null;\r\n    this.onUpdateOb = null;\r\n\r\n    // API -----------------------------------------------\r\n    // reset game with given data\r\n    this.reset = function (clientData, obData) {\r\n        clients = {};\r\n        obs = {};\r\n        players = [];\r\n        for (var i = 0; i < _max; i++) players[i] = null;\r\n        for (var id in clientData) {\r\n            addClient(id, clientData[id]);\r\n        }\r\n        for (var id in obData) {\r\n            addOb(id, obData[id]);\r\n        }\r\n        if (this.onUpdateClient) this.onUpdateClient(clients);\r\n        if (this.onUpdateOb) this.onUpdateOb(obs);\r\n    };\r\n\r\n    // refresh client list\r\n    this.updateClientList = function (clientData) {\r\n        for (var id in clients) {\r\n            if (id in clientData) continue;\r\n            removeClient(id);\r\n        }\r\n        for (var id in clientData) {\r\n            if (id in clients) continue;\r\n            addClient(id, clientData[id]);\r\n        }\r\n        if (this.onUpdateClient) this.onUpdateClient(clients);\r\n    };\r\n\r\n    // refresh client list\r\n    this.updateObList = function (obData) {\r\n        for (var id in obs) {\r\n            if (id in obData) continue;\r\n            removeOb(id);\r\n        }\r\n        for (var id in obData) {\r\n            if (id in obs) continue;\r\n            addOb(id, obData[id]);\r\n        }\r\n        if (this.onUpdateOb) this.onUpdateOb(obs);\r\n    };\r\n\r\n    // get client data\r\n    this.getClientList = function () {\r\n        return players;\r\n    };\r\n\r\n    // Lock -----------------------------------------------\r\n    this.lock = function () {\r\n        _isLocker = true;\r\n    };\r\n\r\n    this.unlock = function () {\r\n        _isLocker = false;\r\n    };\r\n\r\n    // Client Add / Remove -----------------------------------------------\r\n    var addClient = function (id, name) {\r\n        clients[id] = {\r\n            id: id,\r\n            name: name,\r\n            number: -1\r\n        };\r\n\r\n        if (_isLocker) return;\r\n        for (var i = 0; i < _max; i++) {\r\n            if (players[i] == null) {\r\n                clients[id].number = i;\r\n                players[i] = {\r\n                    name: name,\r\n                    id:id\r\n                };\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    var removeClient = function (id) {\r\n        var n = clients[id].number;\r\n        delete clients[id];\r\n        if (n == -1) return;\r\n        if (_isLocker) return;\r\n        players[n] = null;\r\n    };\r\n\r\n    var addOb = function (id, name) {\r\n        obs[id] = {\r\n            id: id,\r\n            name: name,\r\n            number: obCount++\r\n        };\r\n    };\r\n\r\n    var removeOb = function (id) {\r\n        delete obs[id];\r\n    };\r\n\r\n    // Setup -----------------------------------------------\r\n    var _init = function (opts_in) {\r\n        _max = opts_in.max;\r\n        for (var i = 0; i < _max; i++) players[i] = null;\r\n    }(opts_in);\r\n};\r\n\r\nmodule.exports = ClientList;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/js/ClientList.js","var GameCore = function () {\r\n    // property -----------------------------------------------\r\n    var that = this,\r\n        start = false,\r\n        msg = null,\r\n        _map = null,\r\n        _players = null,\r\n        _playersId = null,\r\n        _playerMap = null;\r\n\r\n    // message -----------------------------------------------\r\n    this.send = null;   // (code, content)\r\n\r\n    this.receive = function (msg) {\r\n    };\r\n\r\n    this.action = function (clientId, dat) {\r\n        if (!start) return;\r\n        msg = _players[_playerMap[clientId]].name + \":<b> \" + dat.dat + \" (\" + (Date.now() - dat.time) + \" ms)</b>\";\r\n\r\n        if (dat.dat == \"END\") {\r\n            var p = {};\r\n            for (var i in _playerMap) {\r\n                p[_players[_playerMap[i]].id] = { name: _players[_playerMap[i]].name, win: false };\r\n            }\r\n            p[_players[_playerMap[clientId]].id].win = true;\r\n            this.onUpdated({ end: p });\r\n            for (var i = 0; i < _players.length; i++) {\r\n                this.clientUpdate([_players[i].id], {\r\n                    rst: p[_players[i].id].win\r\n                });\r\n            }\r\n            $.get('/Host/End')\r\n        } else {\r\n            this.onUpdated({ msg: msg });\r\n            this.clientUpdate(_playersId, {\r\n                current: _playerMap[clientId]\r\n            });\r\n        }\r\n    };\r\n\r\n    // callback ------------------------------------------\r\n    this.onUpdated = null;      // (gameData)\r\n    this.onSetuped = null;      // (setupData)\r\n    this.clientSetup = null;    // (target, clientData)\r\n    this.clientUpdate = null;   // (target, clientData)\r\n\r\n    // update ---------------------------------------------\r\n    // reset game with given data\r\n    this.reset = function (setupData, gameData) {\r\n        if (setupData != null) {\r\n            _players = setupData.player;\r\n            _playersId = setupData.playerId;\r\n            _playerMap = setupData.playerMap;\r\n            _map = setupData.map;\r\n        }\r\n        if (gameData != null) {\r\n            msg = gameData.msg;\r\n        }\r\n    };\r\n\r\n    this.setup = function (playerData, para) {\r\n        _players = [];\r\n        _playersId = [];\r\n        _playerMap = {};\r\n        _map = para.map;\r\n\r\n        for (var i = 0, count = playerData.length; i < count; i++) {\r\n            if (playerData[i] == null) continue;\r\n            _players.push(playerData[i]);\r\n            _playersId.push(_players[i].id);\r\n            _playerMap[_players[i].id] = i;\r\n        }\r\n\r\n        this.onSetuped({\r\n            playerMap: _playerMap,\r\n            player: _players,\r\n            playerId: _playersId,\r\n            map: _map\r\n        });\r\n        for (var i = 0; i < _players.length; i++) {\r\n            this.clientSetup([_players[i].id], {\r\n                id: i,\r\n                current:-1,\r\n                map: _map\r\n            });\r\n        }\r\n    };\r\n\r\n    // game ------------------------------------------------\r\n    this.start = function () {\r\n        start = true;\r\n    };\r\n    this.end = function () {\r\n        start = false;\r\n    };\r\n    this.renew = function () {\r\n        start = false;\r\n        _map = null;\r\n        _players = null;\r\n        _playerMap = null;\r\n    };\r\n    this.pause = function () { };\r\n    this.continue = function () { };\r\n\r\n    // setup -----------------------------------------------\r\n    var _init = function () {\r\n    }();\r\n};\r\n\r\nmodule.exports = GameCore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/js/GameCore.js","var Style = require('../less/Prepare.less');\r\n\r\nvar HTML = {\r\n    playerList: '<div class=\"_playerList\"></div>',\r\n    item: '<div class=\"_item\"></div>',\r\n    colorSelector: '<div class=\"colorSelector\"><span></span></div>',\r\n    colorList: '<div class=\"_colorList\"></div>',\r\n    startBtn: '<div class=\"_start\">START</div>'\r\n};\r\n\r\nvar CSS = {\r\n    occupied: '_occupied',\r\n    hidden: '_hidden'\r\n};\r\n\r\nvar Prepare = function (container, opts_in) {\r\n    // Property -------------------------------------\r\n    var // html\r\n        html = {\r\n            container: $(container),\r\n            startBtn: null,\r\n            playerList: null,\r\n            player: [],\r\n            colorSelector: null,\r\n            colorList: null,\r\n            colorItem: {}\r\n        },\r\n\r\n        // data\r\n        maxPlayer = 0,\r\n        colorOption = null,\r\n        colorId = null,\r\n\r\n        // flag\r\n        isShown = false,\r\n\r\n        // cache\r\n        cache_client = null,\r\n        cache_ob = null,\r\n        cache_game = null;\r\n\r\n    // Callback -------------------------------------\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        isShown = true;\r\n        _renderClient(cache_client);\r\n        html['container'].fadeIn();\r\n    };\r\n\r\n    this.hide = function () {\r\n        isShown = false;\r\n        html['container'].fadeOut();\r\n    };\r\n\r\n    // Update ---------------------------------------\r\n    this.updateClientList = function (clientData) {\r\n        cache_client = clientData;\r\n        _renderClient(clientData);\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        cache_game = gameData;\r\n    };\r\n    // api -------------------------------------------\r\n    this.getSetupPara = function () {\r\n        return {\r\n            color: colorOption[colorId]\r\n        };\r\n    };\r\n\r\n    // Private ---------------------------------------\r\n    var _renderClient = function (clientData) {\r\n        if (clientData == null) return;\r\n        // player\r\n        var occupiedNumber = {};\r\n        for (var id in clientData) {\r\n            if (clientData[id].number == -1) continue;\r\n            occupiedNumber[clientData[id].number] = id;\r\n        }\r\n\r\n        for (var i = 0; i < maxPlayer; i++) {\r\n            if (i in occupiedNumber) {\r\n                html['player'][i].html(clientData[occupiedNumber[i]].name).addClass(CSS.occupied);\r\n            } else {\r\n                html['player'][i].html(\"\").removeClass(CSS.occupied);\r\n            }\r\n        }\r\n    };\r\n\r\n    var _selectColor = function (id) {\r\n        colorId = id;\r\n        html['colorSelector'].children('span').text(id);\r\n        html['colorSelector'][0].style.backgroundColor = colorOption[id];\r\n    };\r\n\r\n    // Setup -----------------------------------------\r\n    var _setupHtml = function () {\r\n        // player list\r\n        html['playerList'] = $(HTML.playerList).appendTo(html['container']);\r\n        for (var i = 0; i < maxPlayer; i++) {\r\n            html['player'][i] = $(HTML.item).appendTo(html['playerList']);\r\n        }\r\n\r\n        // start btn\r\n        html['startBtn'] = $(HTML.startBtn).appendTo(html['container']);\r\n        html['startBtn'].click(function () {\r\n            $.get('/Host/Start');\r\n        });\r\n\r\n        // color selector\r\n        html['colorSelector'] = $(HTML.colorSelector).appendTo(html['container']);\r\n        html['colorList'] = $(HTML.colorList).appendTo(html['colorSelector']).addClass(CSS.hidden);\r\n        for (var i in colorOption) {\r\n            var ele = $(HTML.item).text(i).appendTo(html['colorList']);\r\n            ele[0].style.backgroundColor = colorOption[i];\r\n            if (colorId == null) _selectColor(i);\r\n            ele.click({ id: i }, function (e) {\r\n                _selectColor(e.data.id);\r\n            });\r\n            html['colorItem'][i] = ele;\r\n        }\r\n        html['colorSelector'].click(function () {\r\n            html['colorList'].toggleClass(CSS.hidden);\r\n        });\r\n    };\r\n\r\n    var _init = function (opts_in) {\r\n        maxPlayer = opts_in.maxPlayer;\r\n        colorOption = opts_in.colorOption || {};\r\n        _setupHtml();\r\n    }(opts_in);\r\n};\r\n\r\nmodule.exports = Prepare;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/js/Render.Prepare.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/Prepare.less\n// module id = 4\n// module chunks = 1","var Style = require('../less/Main.less');\r\n\r\nvar Main = function () {\r\n    var html_wrap = $('.main'),\r\n        html_title = null,\r\n        html_content = null;\r\n\r\n    // callback ------------------------------------------\r\n    this.onSetuped = null;      // ()\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        html_content.empty();\r\n        html_wrap.fadeIn()\r\n    };\r\n\r\n    this.hide = function () {\r\n        html_wrap.fadeOut()\r\n    };\r\n\r\n    // update ---------------------------------------------\r\n    this.reset = function (setupData) {\r\n\r\n    };\r\n\r\n    this.updateClientList = function (clientData) {\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        if (gameData == null) return;\r\n        html_content.append('<div class=\"_item\">'+gameData.msg+'</div>');\r\n    };\r\n\r\n    // game ------------------------------------------------\r\n    this.pause = function () { };\r\n    this.continue = function () { };\r\n\r\n    // setup -----------------------------------------------\r\n    var _setupHtml = function () {\r\n        html_title = $('<div class=\"_title\">GAME MAIN</div>').appendTo(html_wrap);\r\n        html_content = $('<div class=\"_content\"></div>').appendTo(html_wrap);\r\n    };\r\n\r\n    var _init = function () {\r\n        _setupHtml();\r\n    }();\r\n};\r\n\r\nmodule.exports = Main;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/js/Render.Main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/Main.less\n// module id = 9\n// module chunks = 1","var Style = require('../less/End.less');\r\n\r\nvar End = function () {\r\n    var html_wrap = $('.end'),\r\n        isShown = false,\r\n        html_content = null,\r\n        html_renew = null;\r\n\r\n    // interface controll --------------------------------\r\n    this.show = function () {\r\n        isShown = true;\r\n        html_wrap.fadeIn();\r\n    };\r\n\r\n    this.hide = function () {\r\n        isShown = false;\r\n        html_wrap.fadeOut();\r\n    };\r\n\r\n    // Update ---------------------------------------\r\n    this.updateClientList = function (clientData) {\r\n    };\r\n\r\n    this.updateObList = function (obData) {\r\n    };\r\n\r\n    this.updateGame = function (gameData) {\r\n        if (gameData && gameData.end) {\r\n            var s = \"\";\r\n            for (var i in gameData.end) {\r\n                s += gameData.end[i].name + \" : \" + (gameData.end[i].win?'WIN':'LOST')+\"<br/>\";\r\n            }\r\n            html_content.html(s);\r\n        }\r\n    };\r\n\r\n    // Private ---------------------------------------\r\n    var _setupHtml = function () {\r\n        html_content = $('<div class=\"_content\">[END]</div>').appendTo(html_wrap);\r\n        html_renew = $('<div class=\"_renew\">RENEW</div>').appendTo(html_wrap);\r\n        html_renew.click(function () {\r\n            $.get('/Host/Renew');\r\n        });\r\n    };\r\n\r\n    var _init = function () {\r\n        _setupHtml();\r\n    }();\r\n};\r\n\r\nmodule.exports = End;\r\n\n\n\n// WEBPACK FOOTER //\n// ./D:/Web/GitHub/GameTemplate/src/host/js/Render.End.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/host/less/End.less\n// module id = 12\n// module chunks = 1"],"sourceRoot":""}